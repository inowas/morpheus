# ==============================================================================
# INOWAS Suite - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in your values
# For development: cp .env.dev .env
# For production: cp .env.prod .env
# ==============================================================================

# ==============================================================================
# GENERAL
# ==============================================================================
COMPOSE_PROJECT_NAME=inowas_suite_production
DOMAIN=inowas.com

# Docker socket path
DOCKER_SOCKET=/var/run/docker.sock

# ==============================================================================
# TRAEFIK - Reverse Proxy
# ==============================================================================
# Certificate resolver: letsencrypt or tud-resolver
TRAEFIK_CERT_RESOLVER=letsencrypt

# Let's Encrypt Configuration
TRAEFIK_ACME_EMAIL=admin@inowas.com
TRAEFIK_ACME_LETSENCRYPT_CASERVER=https://acme-v02.api.letsencrypt.org/directory

# TU-Dresden CA Configuration (optional - only if using tud-resolver)
TRAEFIK_ACME_TUD_CASERVER=
TRAEFIK_ACME_TUD_EAB_KID=
TRAEFIK_ACME_TUD_EAB_HMAC_ENCODED=

# ==============================================================================
# KEYCLOAK - Authentication
# ==============================================================================
KEYCLOAK_VERSION=25.0.1
KEYCLOAK_HOST=identity.${DOMAIN}

# Keycloak Admin
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=change-this-password

# Keycloak Database
KEYCLOAK_POSTGRES_USER=keycloak
KEYCLOAK_POSTGRES_PASSWORD=change-this-password
KEYCLOAK_POSTGRES_DB=keycloak

# ==============================================================================
# MORPHEUS - Main Application
# ==============================================================================
MORPHEUS_VERSION=latest
MORPHEUS_FRONTEND_HOST=morpheus.${DOMAIN}
MORPHEUS_BACKEND_HOST=api.morpheus.${DOMAIN}

# Backend Configuration
BACKEND_SECRET_KEY=generate-a-random-secret-key-here
BACKEND_MAX_CONTENT_LENGTH=10485760

# Keycloak Integration
BACKEND_KEYCLOAK_CLIENT_ID=morpheus-backend
BACKEND_KEYCLOAK_CLIENT_SECRET=change-this-secret
BACKEND_KEYCLOAK_REALM=inowas
BACKEND_KEYCLOAK_SERVER_URL=https://${KEYCLOAK_HOST}

# MongoDB
BACKEND_MONGO_INITDB_ROOT_USERNAME=root
BACKEND_MONGO_INITDB_ROOT_PASSWORD=change-this-password
BACKEND_MONGO_HOST=morpheus-db
BACKEND_MONGO_PORT=27017
BACKEND_MONGO_USER=morpheus
BACKEND_MONGO_PASSWORD=change-this-password

# RabbitMQ
RABBITMQ_DEFAULT_USER=morpheus
RABBITMQ_DEFAULT_PASS=change-this-password
RABBITMQ_DEFAULT_VHOST=morpheus

# Celery
BACKEND_CELERY_BROKER=amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@morpheus-mq:5672/${RABBITMQ_DEFAULT_VHOST}
BACKEND_CELERY_RESULT_BACKEND=rpc://

# Sentry (optional)
BACKEND_SENTRY_DSN=

# Sensors (optional)
BACKEND_MORPHEUS_SENSORS_UIT_FTP_HOST=
BACKEND_MORPHEUS_SENSORS_UIT_FTP_USER=
BACKEND_MORPHEUS_SENSORS_UIT_FTP_PASSWORD=
BACKEND_MORPHEUS_SENSORS_UIT_FTP_PATH=

# ==============================================================================
# MFVIZ - MODFLOW Visualizer
# ==============================================================================
MFVIZ_VERSION=latest
MFVIZ_HOST=mfviz.${DOMAIN}

# ==============================================================================
# SIMPLETOOLS - Standalone Tools
# ==============================================================================
SIMPLETOOLS_VERSION=latest
SIMPLETOOLS_HOST=tools.${DOMAIN}
